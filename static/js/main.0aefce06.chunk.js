(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(15),c=n.n(r),a=n(5),s=n(1),o=n(2),l=n(0),i=function(){return Object(l.jsx)("h1",{children:"Home page"})},j=n(10),b=n(3),u=n(16),d=n.n(u),m=n(6),h=n.n(m),O=function(e){var t=e.person,n=Object(o.f)().search;return Object(l.jsx)(a.b,{to:{pathname:"/people/".concat(t.slug),search:n},style:{color:"m"===t.sex?"blue":"red"},children:null===t||void 0===t?void 0:t.name})},x=(n(33),function(e){var t=e.person,n=Object(o.h)().personSlug;return Object(l.jsxs)("tr",{className:h()({"selected-person":n===t.slug}),children:[Object(l.jsx)("td",{children:Object(l.jsx)(O,{person:t})}),Object(l.jsx)("td",{children:t.sex}),Object(l.jsx)("td",{children:t.born}),Object(l.jsx)("td",{children:t.died}),Object(l.jsx)("td",{children:t.mother?Object(l.jsx)(O,{person:t.mother}):Object(l.jsx)("b",{children:t.motherName})}),Object(l.jsx)("td",{children:t.father?Object(l.jsx)(O,{person:t.father}):Object(l.jsx)("b",{children:t.fatherName})})]})}),f=(n(34),function(e){var t=e.people,n=e.sortBy,r=e.sortOrder,c=Object(s.useState)(""),o=Object(b.a)(c,2),i=o[0],j=o[1],u=Object(a.c)(),d=Object(b.a)(u,2),m=d[0],O=d[1],f=function(e){var t=r;i!==e&&(j(e),t=null),m.set("sortBy",e),"asc"===t?m.set("sortOrder","desc"):m.set("sortOrder","asc"),O(m)},p=function(e){return h()("sort-button",{"sort-button--selected":n===e})},g=function(e){return n!==e?Object(l.jsx)("img",{src:"".concat(".","/images/sort_both.png"),alt:"img",className:"sort-button__arrow"}):"desc"===r?Object(l.jsx)("img",{src:"".concat(".","/images/sort_asc.png"),alt:"img",className:"sort-button__arrow"}):Object(l.jsx)("img",{src:"".concat(".","/images/sort_desc.png"),alt:"img",className:"sort-button__arrow"})};return Object(l.jsxs)("table",{className:"PeopleTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"PeopleTable__head",children:[Object(l.jsxs)("th",{onClick:function(){return f("name")},className:p("name"),children:["Name",g("name")]}),Object(l.jsxs)("th",{onClick:function(){return f("sex")},className:p("sex"),children:["Sex",g("sex")]}),Object(l.jsxs)("th",{onClick:function(){return f("died")},className:p("died"),children:["Born",g("died")]}),Object(l.jsxs)("th",{onClick:function(){return f("born")},className:p("born"),children:["Died",g("born")]}),Object(l.jsx)("th",{children:"Mother"}),Object(l.jsx)("th",{children:"Father"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(x,{person:e},e.slug)}))})]})}),p=n(7),g=(n(35),(new Date).getFullYear()),v=function(e){var t=e.people,n=e.setPeople,r=Object(s.useState)(""),c=Object(b.a)(r,2),a=c[0],o=c[1],i=Object(s.useState)(""),u=Object(b.a)(i,2),d=u[0],m=u[1],O=Object(s.useState)(1400),x=Object(b.a)(O,2),f=x[0],v=x[1],N=Object(s.useState)(1400),_=Object(b.a)(N,2),y=_[0],C=_[1],w=Object(s.useState)(""),S=Object(b.a)(w,2),F=S[0],B=S[1],k=Object(s.useState)(""),q=Object(b.a)(k,2),P=q[0],A=q[1],L=Object(s.useState)({name:!1,sex:!1,born:!1,died:!1}),D=Object(b.a)(L,2),M=D[0],E=D[1],H=t.filter((function(e){return"f"===e.sex&&e.born<f+16})),J=t.filter((function(e){return"m"===e.sex&&e.born<f+16})),T={name:0===a.length||!/^[A-Za-z\s]*$/.test(a),sex:0===d.length,born:f<1400||f>g,died:y<f||y>=f+150},z=!Object.keys(T).some((function(e){return T[e]}));return Object(l.jsxs)("div",{className:"form-container",children:[Object(l.jsx)("h2",{className:"form-header",children:"Add person"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={name:a,sex:d,born:f,died:y,motherName:F,fatherName:P,slug:"".concat(a.toLowerCase().replace(" ","-"),"-").concat(f),father:t.find((function(e){return e.name===P})),mother:t.find((function(e){return e.name===F}))};o(""),m(""),v(1400),C(1400),B(""),A(""),E({name:!1,sex:!1,born:!1,died:!1}),n([].concat(Object(j.a)(t),[r]))},className:"form",children:[Object(l.jsxs)("label",{htmlFor:"name",className:h()("form__label",{"form__input--error":T.name&&M.name}),children:["Name: \xa0",Object(l.jsx)("input",{type:"text",id:"name",placeholder:"Name",required:!0,value:a,onChange:function(e){return o(e.target.value)},onBlur:function(){return E(Object(p.a)(Object(p.a)({},M),{},{name:!0}))},className:h()("form__input--name",{error:T.name&&M.name})})]}),Object(l.jsxs)("label",{htmlFor:"sex",className:"form__label",children:["Gender: \xa0",Object(l.jsx)("input",{type:"radio",id:"sex",value:"m",name:"gender",onChange:function(e){return m(e.target.value)}}),"Male",Object(l.jsx)("input",{type:"radio",id:"sex",value:"f",name:"gender",onChange:function(e){return m(e.target.value)}}),"Female"]}),Object(l.jsxs)("label",{htmlFor:"born",className:h()("form__label",{"form__input--error":T.born&&M.born}),children:["Born: \xa0",Object(l.jsx)("input",{type:"number",id:"born",min:"1400",max:g,value:f,onChange:function(e){return v(+e.target.value)},onBlur:function(){return E(Object(p.a)(Object(p.a)({},M),{},{born:!0}))},className:h()({error:T.born&&M.born})})]}),Object(l.jsxs)("label",{htmlFor:"died",className:h()("form__label",{"form__input--error":T.died&&M.died}),children:["Died: \xa0",Object(l.jsx)("input",{type:"number",id:"died",min:"1400",max:g,value:y,onChange:function(e){return C(+e.target.value)},onBlur:function(){return E(Object(p.a)(Object(p.a)({},M),{},{died:!0}))},className:h()({error:T.died&&M.died})})]}),Object(l.jsxs)("label",{htmlFor:"mother",className:"form__label",children:["Mother: \xa0",Object(l.jsxs)("select",{id:"mother",value:F,onChange:function(e){return B(e.target.value)},disabled:!M.born||T.born,children:[Object(l.jsx)("option",{value:"",children:"No mother"}),H.map((function(e){return Object(l.jsx)("option",{value:e.name,children:e.name},e.slug)}))]})]}),Object(l.jsxs)("label",{htmlFor:"father",className:"form__label",children:["Father: \xa0",Object(l.jsxs)("select",{id:"father",value:P,onChange:function(e){return A(e.target.value)},disabled:!M.born||T.born,children:[Object(l.jsx)("option",{value:"",children:"No Father"}),J.map((function(e){return Object(l.jsx)("option",{value:e.name,children:e.name},e.slug)}))]})]}),Object(l.jsx)("button",{type:"submit",disabled:!z,className:"form__button",children:"Add person"})]})]})},N=(n(36),function(){var e=Object(o.f)(),t=Object(a.c)(),n=Object(b.a)(t,2),r=n[0],c=n[1],i=r.get("query"),u=r.get("sortBy"),m=r.get("sortOrder"),h=Object(s.useState)([]),O=Object(b.a)(h,2),x=O[0],p=O[1],g=Object(s.useState)(i),N=Object(b.a)(g,2),_=N[0],y=N[1],C=e.pathname.includes("new");Object(s.useEffect)((function(){fetch("https://mate-academy.github.io/react_people-table/api/people.json").then((function(e){return e.json()})).then((function(e){return e.map((function(t){var n=t;return n.mother=e.find((function(e){return e.name===t.motherName})),n.father=e.find((function(e){return e.name===t.fatherName})),n}))})).then((function(e){return p(e)}))}),[]);var w=Object(s.useCallback)(d()((function(e){e?(r.set("query",e),c(r)):(r.delete("query"),c(r))}),500),[]),S=i?x.filter((function(e){var t,n,r,c=i.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(c))||(null===(n=e.motherName)||void 0===n?void 0:n.toLowerCase().includes(c))||(null===(r=e.fatherName)||void 0===r?void 0:r.toLowerCase().includes(c))})):x;if(u)switch(u){case"name":case"sex":S=Object(j.a)(S).sort((function(e,t){switch(m){case"asc":return e[u].localeCompare(t[u]);case"desc":return t[u].localeCompare(e[u]);default:return 0}}));break;case"born":case"died":S=Object(j.a)(S).sort((function(e,t){switch(m){case"asc":return e[u]-t[u];case"desc":return t[u]-e[u];default:return 0}}))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("label",{htmlFor:"query",children:["Search: \xa0",Object(l.jsx)("input",{type:"text",id:"query",placeholder:"Search",value:_||"",onChange:function(e){y(e.target.value),w(e.target.value)},style:{marginBottom:"10px"}})]}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(f,{people:S,sortBy:u,sortOrder:m}),C?Object(l.jsx)(v,{people:x,setPeople:p}):Object(l.jsx)(a.b,{to:{pathname:"/people/new",search:e.search},className:"add-new-person",children:Object(l.jsx)("button",{type:"button",className:"add-new-person__button",children:"Add person"})})]})]})}),_=function(){return Object(l.jsx)("h1",{children:"Page not found"})},y=(n(37),function(){return Object(l.jsxs)("nav",{className:"Navigation",children:[Object(l.jsx)(a.b,{to:"/",children:"Home"}),Object(l.jsx)(a.b,{to:"/people",children:"People"})]})}),C=(n(38),function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(y,{}),Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/",element:Object(l.jsx)(i,{})}),Object(l.jsxs)(o.b,{path:"people",element:Object(l.jsx)(N,{}),children:[Object(l.jsx)(o.b,{path:":personSlug",element:Object(l.jsx)(N,{})}),Object(l.jsx)(o.b,{path:"new",element:Object(l.jsx)(N,{})})]}),Object(l.jsx)(o.b,{path:"/home",element:Object(l.jsx)(o.a,{to:"/"})}),Object(l.jsx)(o.b,{path:"*",element:Object(l.jsx)(_,{})})]})]})});c.a.render(Object(l.jsx)(a.a,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.0aefce06.chunk.js.map
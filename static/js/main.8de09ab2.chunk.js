(this["webpackJsonpreact_people-table-advanced"]=this["webpackJsonpreact_people-table-advanced"]||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(17),a=n.n(r),c=n(5),s=n(1),o=n(2),l=n(0),i=function(){return Object(l.jsx)("h1",{children:"Home page"})},u=n(11),j=n(12),b=n(3),d=n(9),m=n.n(d),h=n(18),O=n.n(h),f=n(6),p=n.n(f),x=(n(36),function(e){var t=e.person,n=Object(o.f)().search;return Object(l.jsx)(c.b,{to:{pathname:"/people/".concat(t.slug),search:n},className:p()({maleColor:"m"===t.sex,femaleColor:"f"===t.sex}),children:null===t||void 0===t?void 0:t.name})}),v=(n(37),function(e){var t=e.person,n=Object(o.h)().personSlug;return Object(l.jsxs)("tr",{className:p()({"selected-person":n===t.slug}),children:[Object(l.jsx)("td",{children:Object(l.jsx)(x,{person:t})}),Object(l.jsx)("td",{children:t.sex}),Object(l.jsx)("td",{children:t.born}),Object(l.jsx)("td",{children:t.died}),Object(l.jsx)("td",{children:t.mother?Object(l.jsx)(x,{person:t.mother}):Object(l.jsx)("b",{children:t.motherName})}),Object(l.jsx)("td",{children:t.father?Object(l.jsx)(x,{person:t.father}):Object(l.jsx)("b",{children:t.fatherName})})]})}),g=(n(38),function(e){var t=e.people,n=e.sortBy,r=e.sortOrder,a=Object(s.useState)(""),o=Object(b.a)(a,2),i=o[0],u=o[1],j=Object(c.c)(),d=Object(b.a)(j,2),m=d[0],h=d[1],O=function(e){var t=r;i!==e&&(u(e),t=null),m.set("sortBy",e),"asc"===t?m.set("sortOrder","desc"):m.set("sortOrder","asc"),h(m)},f=function(e){return p()("sort-button",{"sort-button--selected":n===e})},x=function(e){return n!==e?Object(l.jsx)("img",{src:"".concat(".","/images/sort_both.png"),alt:"img",className:"sort-button__arrow"}):"desc"===r?Object(l.jsx)("img",{src:"".concat(".","/images/sort_asc.png"),alt:"img",className:"sort-button__arrow"}):Object(l.jsx)("img",{src:"".concat(".","/images/sort_desc.png"),alt:"img",className:"sort-button__arrow"})};return Object(l.jsxs)("table",{className:"PeopleTable",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{className:"PeopleTable__head",children:[Object(l.jsxs)("th",{onClick:function(){return O("name")},className:f("name"),children:["Name",x("name")]}),Object(l.jsxs)("th",{onClick:function(){return O("sex")},className:f("sex"),children:["Sex",x("sex")]}),Object(l.jsxs)("th",{onClick:function(){return O("died")},className:f("died"),children:["Born",x("died")]}),Object(l.jsxs)("th",{onClick:function(){return O("born")},className:f("born"),children:["Died",x("born")]}),Object(l.jsx)("th",{children:"Mother"}),Object(l.jsx)("th",{children:"Father"})]})}),Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)(v,{person:e},e.slug)}))})]})}),N=n(7),_=(n(39),(new Date).getFullYear()),w=function(e){var t=e.people,n=e.setPeople,r=Object(s.useState)(""),a=Object(b.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)(""),j=Object(b.a)(i,2),d=j[0],m=j[1],h=Object(s.useState)(1400),O=Object(b.a)(h,2),f=O[0],x=O[1],v=Object(s.useState)(1400),g=Object(b.a)(v,2),w=g[0],y=g[1],C=Object(s.useState)(""),S=Object(b.a)(C,2),F=S[0],k=S[1],B=Object(s.useState)(""),q=Object(b.a)(B,2),P=q[0],A=q[1],L=Object(s.useState)({name:!1,sex:!1,born:!1,died:!1}),D=Object(b.a)(L,2),M=D[0],E=D[1],H=t.filter((function(e){return"f"===e.sex&&e.born<f+16})),J=t.filter((function(e){return"m"===e.sex&&e.born<f+16})),T={name:0===c.length||!/^[A-Za-z\s]*$/.test(c),sex:0===d.length,born:f<1400||f>_,died:w<f||w>=f+150},z=!Object.keys(T).some((function(e){return T[e]}));return Object(l.jsxs)("div",{className:"form-container",children:[Object(l.jsx)("h2",{className:"form-header",children:"Add person"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var r={name:c,sex:d,born:f,died:w,motherName:F,fatherName:P,slug:"".concat(c.toLowerCase().replace(" ","-"),"-").concat(f),father:t.find((function(e){return e.name===P})),mother:t.find((function(e){return e.name===F}))};n([].concat(Object(u.a)(t),[r])),o(""),m(""),x(1400),y(1400),k(""),A(""),E({name:!1,sex:!1,born:!1,died:!1})},className:"form",children:[Object(l.jsxs)("label",{htmlFor:"name",className:p()("form__label",{"form__input--error":T.name&&M.name}),children:["Name: \xa0",Object(l.jsx)("input",{type:"text",id:"name",placeholder:"Name",required:!0,value:c,onChange:function(e){return o(e.target.value)},onBlur:function(){return E(Object(N.a)(Object(N.a)({},M),{},{name:!0}))},className:p()("form__input--name",{error:T.name&&M.name})})]}),Object(l.jsxs)("label",{htmlFor:"sex",className:"form__label",children:["Gender: \xa0",Object(l.jsx)("input",{type:"radio",id:"sex",value:"m",name:"gender",onChange:function(e){return m(e.target.value)}}),"Male",Object(l.jsx)("input",{type:"radio",id:"sex",value:"f",name:"gender",onChange:function(e){return m(e.target.value)}}),"Female"]}),Object(l.jsxs)("label",{htmlFor:"born",className:p()("form__label",{"form__input--error":T.born&&M.born}),children:["Born: \xa0",Object(l.jsx)("input",{type:"number",id:"born",min:"1400",max:_,value:f,onChange:function(e){return x(+e.target.value)},onBlur:function(){return E(Object(N.a)(Object(N.a)({},M),{},{born:!0}))},className:p()({error:T.born&&M.born})})]}),Object(l.jsxs)("label",{htmlFor:"died",className:p()("form__label",{"form__input--error":T.died&&M.died}),children:["Died: \xa0",Object(l.jsx)("input",{type:"number",id:"died",min:"1400",max:_,value:w,onChange:function(e){return y(+e.target.value)},onBlur:function(){return E(Object(N.a)(Object(N.a)({},M),{},{died:!0}))},className:p()({error:T.died&&M.died})})]}),Object(l.jsxs)("label",{htmlFor:"mother",className:"form__label",children:["Mother: \xa0",Object(l.jsxs)("select",{id:"mother",value:F,onChange:function(e){return k(e.target.value)},disabled:!M.born||T.born,children:[Object(l.jsx)("option",{value:"",children:"No mother"}),H.map((function(e){return Object(l.jsx)("option",{value:e.name,children:e.name},e.slug)}))]})]}),Object(l.jsxs)("label",{htmlFor:"father",className:"form__label",children:["Father: \xa0",Object(l.jsxs)("select",{id:"father",value:P,onChange:function(e){return A(e.target.value)},disabled:!M.born||T.born,children:[Object(l.jsx)("option",{value:"",children:"No Father"}),J.map((function(e){return Object(l.jsx)("option",{value:e.name,children:e.name},e.slug)}))]})]}),Object(l.jsx)("button",{type:"submit",disabled:!z,className:"form__button",children:"Add person"})]})]})},y=function(){var e=Object(j.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.map((function(e){var t=Object(N.a)({},e);return t.mother=n.find((function(t){return t.name===e.motherName})),t.father=n.find((function(t){return t.name===e.fatherName})),t})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=(n(40),function(){var e=Object(o.f)(),t=Object(c.c)(),n=Object(b.a)(t,2),r=n[0],a=n[1],i=r.get("query"),d=r.get("sortBy"),h=r.get("sortOrder"),f=Object(s.useState)([]),p=Object(b.a)(f,2),x=p[0],v=p[1],N=Object(s.useState)(i),_=Object(b.a)(N,2),C=_[0],S=_[1],F=e.pathname.includes("new"),k=function(){var e=Object(j.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=v,e.next=3,y();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){k()}),[]);var B=Object(s.useCallback)(O()((function(e){e?(r.set("query",e),a(r)):(r.delete("query"),a(r))}),500),[]),q=i?x.filter((function(e){var t,n,r,a=i.toLowerCase();return(null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(a))||(null===(n=e.motherName)||void 0===n?void 0:n.toLowerCase().includes(a))||(null===(r=e.fatherName)||void 0===r?void 0:r.toLowerCase().includes(a))})):x;if(d)switch(d){case"name":case"sex":q=Object(u.a)(q).sort((function(e,t){switch(h){case"asc":return e[d].localeCompare(t[d]);case"desc":return t[d].localeCompare(e[d]);default:return 0}}));break;case"born":case"died":q=Object(u.a)(q).sort((function(e,t){switch(h){case"asc":return e[d]-t[d];case"desc":return t[d]-e[d];default:return 0}}))}return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("label",{htmlFor:"query",children:["Search: \xa0",Object(l.jsx)("input",{type:"text",id:"query",placeholder:"Search",value:C||"",onChange:function(e){S(e.target.value),B(e.target.value)},className:"mb-10"})]}),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)(g,{people:q,sortBy:d,sortOrder:h}),F?Object(l.jsx)(w,{people:x,setPeople:v}):Object(l.jsx)(c.b,{to:{pathname:"/people/new",search:e.search},className:"add-new-person",children:Object(l.jsx)("button",{type:"button",className:"add-new-person__button",children:"Add person"})})]})]})}),S=function(){return Object(l.jsx)("h1",{children:"Page not found"})},F=(n(41),function(){return Object(l.jsxs)("nav",{className:"Navigation",children:[Object(l.jsx)(c.b,{to:"/",children:"Home"}),Object(l.jsx)(c.b,{to:"/people",children:"People"})]})}),k=(n(42),function(){return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(F,{}),Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/",element:Object(l.jsx)(i,{})}),Object(l.jsxs)(o.b,{path:"people",element:Object(l.jsx)(C,{}),children:[Object(l.jsx)(o.b,{path:":personSlug",element:Object(l.jsx)(C,{})}),Object(l.jsx)(o.b,{path:"new",element:Object(l.jsx)(C,{})})]}),Object(l.jsx)(o.b,{path:"/home",element:Object(l.jsx)(o.a,{to:"/"})}),Object(l.jsx)(o.b,{path:"*",element:Object(l.jsx)(S,{})})]})]})});a.a.render(Object(l.jsx)(c.a,{children:Object(l.jsx)(k,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.8de09ab2.chunk.js.map